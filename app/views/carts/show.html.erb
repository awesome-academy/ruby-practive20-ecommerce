<% content_for :title, "Shopping Cart" %>
<div class="shopping-cart-page">
  <!-- Breadcrumb -->
  <div class="breadcrumb-section">
    <div class="container">
      <nav class="breadcrumb-nav">
        <span class="breadcrumb-item">Home</span>
        <span class="breadcrumb-separator">></span>
        <span class="breadcrumb-item">Pages</span>
        <span class="breadcrumb-separator">></span>
        <span class="breadcrumb-item active">Shopping Cart</span>
      </nav>
    </div>
  </div>
  <!-- Cart Content -->
  <div class="container">
    <div class="cart-header">
      <h1 class="cart-title">Shopping Cart</h1>
    </div>
    <% if current_cart.cart_items.any? %>
      <div class="cart-layout">
        <!-- Cart Items Table -->
        <div class="cart-table-section">
          <table class="cart-table">
            <!-- Table Header -->
            <thead>
              <tr class="cart-table-header">
                <th class="header-product">Product</th>
                <th class="header-price">Price</th>
                <th class="header-quantity">Quantity</th>
                <th class="header-total">Total</th>
              </tr>
            </thead>
            <!-- Cart Items -->
            <tbody class="cart-items">
              <% current_cart.cart_items.includes(product: :brand).each do |cart_item| %>
                <%= render "cart_item_row", cart_item: cart_item %>
              <% end %>
            </tbody>
          </table>
          <!-- Cart Actions -->
          <div class="cart-actions">
            <button class="update-cart-btn">Update Cart</button>
            <%= link_to "Clear Cart", cart_clear_path,
                class: "clear-cart-btn",
                data: {
                  "turbo-method": :delete,
                  confirm: "Are you sure you want to clear your cart?"
                } %>
          </div>
        </div>
        <!-- Cart Totals -->
        <div class="cart-totals-section">
          <%= render "cart_totals" %>
        </div>
      </div>
    <% else %>
      <%= render "empty_cart" %>
    <% end %>
  </div>
</div>
